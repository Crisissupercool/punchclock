# --- Database Configuration ---
quarkus.datasource.db-kind=postgresql
# These env vars come from your docker-compose.yml
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME:app}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD:app}
# Point to the Postgres service inside docker compose
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL:jdbc:postgresql://db:5432/app}
# Disable Dev Services because we provide our own DB
quarkus.datasource.devservices.enabled=false
# --- Hibernate ORM ---
# Changed from drop-and-create to validate for Flyway migration
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=true

# --- Flyway Configuration ---
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
# Bind HTTP to all interfaces so Dev Container port forwarding works
quarkus.http.host=0.0.0.0

# --- Test Data Configuration ---
# Automatically load test data on application startup (true/false)
app.testdata.load-on-startup=true

# --- JWT Configuration ---
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=https://punchclock.com/issuer
smallrye.jwt.sign.key.location=privateKey.pem
quarkus.smallrye-jwt.enabled=true